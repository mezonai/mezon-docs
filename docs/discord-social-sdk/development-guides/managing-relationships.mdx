---
sidebar_label: Managing Relationships
---
import PublicClient from '../partials/callouts/public-client.mdx';
import SupportCallout from '../partials/callouts/support.mdx';

[Home](#DOCS_INTRO) > [Mezon Social SDK](#DOCS_DISCORD_SOCIAL_SDK_OVERVIEW) > [Development Guides](#DOCS_DISCORD_SOCIAL_SDK_DEVELOPMENT_GUIDES) > {sidebar_label}

# Managing Relationships in Your Game

## Overview

The Mezon Social SDK lets you manage relationships between players in your game. This guide will show you how to:

- Send and accept friend requests
- Handle different types of relationships
- Block and unblock users
- Work with both Mezon-wide and game-specific friendships

### Prerequisites

Before you begin, make sure you have:

- Completed the [Getting Started](#DOCS_DISCORD_SOCIAL_SDK_GETTING_STARTED) guide
- Completed the [Creating a Unified Friends List](#DOCS_DISCORD_SOCIAL_SDK_DEVELOPMENT_GUIDES_CREATING_A_UNIFIED_FRIENDS_LIST) guide

---

## Understanding Relationship Types

Mezon models the relationship between two users using the Relationship entity in the SDK. Relationships are not just for friends. They are also used to send and receive friend requests and block other users.

Note: While the SDK allows you to manage a user's relationships, you should never act without their explicit consent. You should not automatically send or accept friend requests. Only invoke APIs to manage relationships in response to a user action such as clicking a "Send Friend Request" button.

### Relationship Types

We know that sometimes users will want to be friends with each other across all their games. If they start playing a new game, they can see all of their previous friends and don't start from scratch. But sometimes, they don't want to give out that access and only want to be friends in the current game they are playing.

To support this, the Mezon Social SDK supports two types of relationships between users:

- **Mezon relationships**: These relationships persist across games and on the Mezon client. Both users can see whether each other is online, regardless of whether they are in the same game. Mezon Relationships are the same as becoming a friend in the Mezon client.
- **Game relationships**: These are per-game relationships and do not carry over to other games. The two users can only see if the other is online if they are playing a game in which they are friends. Game friends can DM each other, and those DMs will show up in Mezon, but they can disable that behavior and keep their game conversations restricted to just the game. That option is located at the bottom of the "Content & Social" settings.

[`RelationshipHandle`] can be used to determine the type of friendship between the player and another user. It has two fields:

- [`RelationshipHandle::DiscordRelationshipType`] for the **Mezon friendship**
- [`RelationshipHandle::GameRelationshipType`] for the **game friendship**

Having both of these friend types is important because a pair of users might start out as game friends but later choose to "upgrade" to being full Mezon friends. In this case, their [`RelationshipHandle::DiscordRelationshipType`] would be set to `RelationshipType::PendingIncoming` or `RelationshipType::PendingOutgoing` (based on whether they are receiving or sending the request respectively), and their [`RelationshipHandle::GameRelationshipType`] would remain as `RelationshipType::Friend`.

While our API technically supports users being both types of friends, you don't have to ensure that every Mezon friend is a game friend or vice versa. When adding friends, offer users a choice of friend type and explain the difference. See our design guidelines for more.

### Mezon Friend Relationships
- Persist across all games and Mezon
- Limited to 1,000 friends
- Online status visible everywhere
- Full Mezon chat functionality

### Game Friend Relationships
- Only exist within your game
- No current friend limit
- Online status is only visible in-game

---

## Relationship Actions

Once you've [created a unified friends list](#DOCS_DISCORD_SOCIAL_SDK_DEVELOPMENT_GUIDES_CREATING_A_UNIFIED_FRIENDS_LIST), you can start managing relationships between players in your game. 

Here are some common actions you might want to take:

### Sending Game Friend Requests

Sends (or accepts) a game friend request to the target user.

You can send game friend requests to users using their Mezon unique username or user ID.

After the friend request is sent, each user will have a new game relationship created. For the current user, the [`RelationshipHandle::GameRelationshipType`] will be `RelationshipType::PendingOutgoing`, and for the target user, it will be `RelationshipType::PendingIncoming`.

If the current user has already received a game friend request from the target user (meaning [`RelationshipHandle::GameRelationshipType`] is `RelationshipType::PendingIncoming`), the two users will become game friends.

```cpp
client->SendGameFriendRequest("username", [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Game friend request sent successfully!\n";
  }
});

client->SendGameFriendRequestById(123456789, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Game friend request sent successfully!\n";
  }
});
```

### Sending Mezon Friend Requests

Sends (or accepts) a Mezon friend request to the target user.

You can send Mezon friend requests to users by using their Mezon unique username or user ID.

After the friend request is sent, each user will have a new Mezon relationship created. For the current user, the [`RelationshipHandle::DiscordRelationshipType`] will be `RelationshipType::PendingOutgoing`, and for the target user, it will be `RelationshipType::PendingIncoming`.

If the current user has already received a Mezon friend request from the target user (meaning [`RelationshipHandle::DiscordRelationshipType`] is `RelationshipType::PendingIncoming`), the two users will become Mezon friends.

```cpp
client->SendDiscordFriendRequest("username", [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Mezon friend request sent successfully!\n";
  }
});

client->SendDiscordFriendRequestById(123456789, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Mezon friend request sent successfully!\n";
  }
});
```

### Accept Incoming Friend Requests

Allow your players to accept incoming friend requests, which `RelationshipType::PendingIncoming` represents.

```cpp
// RelationshipHandle::DiscordRelationshipType == RelationshipType::PendingIncoming
client->AcceptDiscordFriendRequest(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Mezon friend request accepted!\n";
  }
});

// RelationshipHandle::GameRelationshipType == RelationshipType::PendingIncoming
client->AcceptGameFriendRequest(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Game friend request accepted!\n";
  }
});
```

### Reject Incoming Friend Requests

Allow your players to reject incoming friend requests, which `RelationshipType::PendingIncoming` represents.

```cpp
// Reject Incoming Friend Requests
// RelationshipHandle::DiscordRelationshipType == RelationshipType::PendingIncoming
client->RejectDiscordFriendRequest(userId,[](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Mezon friend request rejected!\n";
  }
});

// RelationshipHandle::GameRelationshipType == RelationshipType::PendingIncoming
client->RejectGameFriendRequest(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Game friend request rejected!\n";
  }
});
```

### Cancel Outgoing Friend Requests

Allow your players to cancel outgoing friend requests, which `RelationshipType::PendingOutgoing` represents.

```cpp
// Cancel Outgoing Friend Requests
// RelationshipHandle::DiscordRelationshipType == RelationshipType::PendingIncoming
client->CancelDiscordFriendRequest(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Mezon friend request canceled!\n";
  }
});

// RelationshipHandle::GameRelationshipType == RelationshipType::PendingOutgoing
client->CancelGameFriendRequest(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Game friend request canceled!\n";
  }
});
```

### Managing Existing Relationships

Allow your players to remove existing relationships with other users. This will remove the relationship from both users, and they will no longer be able to see each other's online status or send messages.

```cpp
// Removes any friendship between the current user and the target user. 
// This function will remove BOTH any Mezon friendship and any game friendship between the users.
client->RemoveDiscordAndGameFriend(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Mezon and Game friendships removed!\n";
  }
});

// Removes any game friendship between the current user and the target user.
client->RemoveGameFriend(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® Game friendship removed!\n";
  }
});
```

### Blocking  Users

Allow your players to block another user so they cannot send friend or activity invites and cannot message them anymore.

Blocking a user will also remove any existing relationship between the two users and persist across games, so blocking a user in one game or on Mezon will block them in all other games and on Mezon.

```cpp
client->BlockUser(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® User blocked successfully!\n";
  }
});
```

### Unblocking Users

Allow your players to unblock another user if they have been blocked. Unblocking a user does not restore any previous relationships between the users.

```cpp
client->UnblockUser(userId, [](discordpp::ClientResult result) {
  if (result.Successful()) {
    std::cout << "ðŸŽ® User unblocked successfully!\n";
  }
});
```

---

## Next Steps

Continue learning about the Mezon Social SDK with these guides:

<Container>
  <Card title="Creating a Unified Friends List" link="#DOCS_DISCORD_SOCIAL_SDK_DEVELOPMENT_GUIDES_CREATING_A_UNIFIED_FRIENDS_LIST" icon="ListViewIcon">
    Combine Mezon and game friends into a single list for easy management.
  </Card>
  <Card title="Managing Game Invites" link="#DOCS_DISCORD_SOCIAL_SDK_DEVELOPMENT_GUIDES_MANAGING_GAME_INVITES" icon="InboxIcon">
    Allow players to invite friends to join their game session or party.
  </Card>
  <Card title="Managing Lobbies" link="#DOCS_DISCORD_SOCIAL_SDK_DEVELOPMENT_GUIDES_MANAGING_LOBBIES" icon="DoorEnterIcon">
    Bring players together in a shared lobby with invites, text chat, and voice comms.
  </Card>
</Container>

<SupportCallout />

---

## Change Log

| Date           | Changes         |
|----------------|-----------------|
| March 17, 2025 | Initial release |

{/* Autogenerated Reference Links */}
[`RelationshipHandle`]: https://mezon.com/developers/docs/social-sdk/classdiscordpp_1_1RelationshipHandle.html#a218a10c537a3a7bafecd4ef80050f98a
[`RelationshipHandle::DiscordRelationshipType`]: https://mezon.com/developers/docs/social-sdk/classdiscordpp_1_1RelationshipHandle.html#a5fecfb79a4a2b6f3dc5f73b09d0c3881
[`RelationshipHandle::GameRelationshipType`]: https://mezon.com/developers/docs/social-sdk/classdiscordpp_1_1RelationshipHandle.html#aa60146eb72ede07e3e615565f61f97eb